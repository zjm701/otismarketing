<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

	<package name="otismarketing" namespace="/" extends="struts-default">

<!-- 		<global-results> -->
<!-- 			<result name="login">/login.jsp</result> -->
<!-- 		</global-results> -->
		
		<action name="main" class="loginAction" method="toMain">
			<result name="adminMain">/pages/index.jsp</result>
			<result name="userMain">/pages/index.jsp</result>
			<result name="goLogin">/pages/login.jsp</result>
			<result name="error">/pages/error.jsp</result>
		</action>
		<action name="goLogin" class="loginAction" method="goLogin">
			<result name="goLogin">/pages/login.jsp</result>
			<result name="error">/pages/error.jsp</result>
		</action>
	</package>
	
	<package name="survey" namespace="/survey" extends="struts-default">
		<action name="findAllSurvey" class="surveyAction" method="findAllSurvey">
			<result name="list">/pages/survey/survey_list.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
		<action name="toAdd" class="surveyAction" method="toAdd">
			<result name="success">/pages/survey/add.jsp</result>
		</action>
	</package>
	<package name="surveyJson" namespace="/survey" extends="json-default">
		<action name="add" class="surveyAction" method="add">
			<result name="success" type="json"></result>
		</action>
		<action name="preview" class="surveyAction" method="preview">
			<result name="success" type="json"></result>
		</action>
		<action name="delete" class="surveyAction" method="delete">
			<result name="success" type="json"></result>
		</action>
		<action name="publish" class="surveyAction" method="publish">
			<result name="success" type="json"></result>
		</action>
	</package>
	
	<package name="statistic" namespace="/statistic" extends="struts-default">
		<action name="getSurveyStatistic" class="statisticAction" method="getSurveyStatistic">
			<result name="success">/pages/statistic/survey_stat.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
	</package>

	<package name="userManagement" namespace="/userManagement" extends="json-default">
		<action name="goUserManagement" class="userAction" method="goUserInfoMain">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
		<action name="getAllUsers" class="userAction" method="getUserInfoList">
			<result name="userInfos" type="json">
				<param name="includeProperties">
				^data\[\d+\]\.id,
				^data\[\d+\]\.name,
				^data\[\d+\]\.createDate,
				^data\[\d+\]\.updateDate
				</param>
			</result>
		</action>
		<action name="addUser" class="userAction" method="addUser">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
	</package>
	
</struts>
