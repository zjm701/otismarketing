<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

	<package name="otismarketing" namespace="/" extends="struts-default">

<!-- 		<global-results> -->
<!-- 			<result name="login">/login.jsp</result> -->
<!-- 		</global-results> -->
		
		<action name="main" class="loginAction" method="toMain">
			<result name="adminMain">/pages/index.jsp</result>
			<result name="userMain">/pages/index.jsp</result>
			<result name="goLogin">/pages/login.jsp</result>
			<result name="error">/pages/error.jsp</result>
		</action>
		<action name="goLogin" class="loginAction" method="goLogin">
			<result name="goLogin">/pages/login.jsp</result>
			<result name="error">/pages/error.jsp</result>
		</action>
		<action name="loginFailure" class="loginAction" method="loginFailure">
			<result name="goLogin">/pages/login.jsp</result>
		</action>
	</package>
	
	<package name="survey" namespace="/survey" extends="struts-default">
		<action name="findAllSurvey" class="surveyAction" method="findAllSurvey">
			<result name="list">/pages/survey/survey_list.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
		<action name="toAdd" class="surveyAction" method="toAdd">
			<result name="success">/pages/survey/add.jsp</result>
		</action>
		<action name="toEdit" class="surveyAction" method="toEdit">
			<result name="success">/pages/survey/edit.jsp</result>
		</action>
	</package>
	<package name="surveyJson" namespace="/survey" extends="json-default">
		<action name="add" class="surveyAction" method="add">
			<result name="success" type="json"></result>
		</action>
		<action name="edit" class="surveyAction" method="edit">
			<result name="success" type="json"></result>
		</action>
		<action name="preview" class="surveyAction" method="preview">
			<result name="success" type="json"></result>
		</action>
		<action name="delete" class="surveyAction" method="delete">
			<result name="success" type="json"></result>
		</action>
		<action name="publish" class="surveyAction" method="publish">
			<result name="success" type="json"></result>
		</action>
	</package>
	
	<package name="statistic" namespace="/statistic" extends="struts-default">
		<action name="getSurveyStatistic" class="statisticAction" method="getSurveyStatistic">
			<result name="success">/pages/statistic/survey_statistic.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
		<action name="findAllSurvey" class="statisticAction" method="findAllSurvey">
			<result name="list">/pages/statistic/survey_list.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
		<action name="export" class="statisticAction" method="exportSurveyStatistic">
			<result name="success">/pages/statistic/survey_statistic.jsp</result>
   	  	 	<result name="error">/pages/error.jsp</result>
		</action>
	</package>

	<package name="userManagement" namespace="/userManagement" extends="json-default">
		<action name="goUserManagement" class="userAction" method="goUserInfoMain">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
		<action name="getAllUsers" class="userAction" method="getUserInfoList">
			<result name="userInfos" type="json">
				<param name="includeProperties">
				^data\[\d+\]\.id,
				^data\[\d+\]\.name,
				^data\[\d+\]\.createDate,
				^data\[\d+\]\.updateDate
				</param>
			</result>
		</action>
		<action name="toAddUser" class="userAction" method="toAddUser">
			<result name="success">/pages/addUser.jsp</result>
		</action>
		<action name="addUser" class="userAction" method="addUser">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
		<action name="goUpdatePwd" class="userAction" method="goUpdatePwd">
			<result name="success">/pages/pwdSetting.jsp</result>
		</action>
		<action name="updatePwd" class="userAction" method="changePassword">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
		<action name="initUpdate" class="userAction" method="initUpdate">
			<result name="success">/pages/updateUser.jsp</result>
		</action>
		<action name="updateUser" class="userAction" method="updateUser">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
		<action name="deleteUser" class="userAction" method="deleteUser">
			<result name="success">/pages/userInfo.jsp</result>
		</action>
	</package>
	
	<package name="newsManagement" namespace="/newsManagement" extends="json-default">
		<action name="getAllNews" class="newsAction" method="getNewsInfoList">
			<result name="newsInfos">/pages/newsManagement/newsInfo.jsp</result>
		</action>
		<action name="addNews" class="newsAction" method="addNews">
			<result name="success" type="redirectAction">getAllNews</result>
		</action>
		<action name="initUpdateNews" class="newsAction" method="initUpdate">
			<result name="success">/pages/newsManagement/updateNews.jsp</result>
		</action>
		<action name="updateNews" class="newsAction" method="updateNews">
			<result name="success" type="redirectAction">getAllNews</result>
		</action>
		<action name="deleteNews" class="newsAction" method="deleteNews">
			<result name="success" type="redirectAction">getAllNews</result>
		</action>
		<action name="previewNews" class="newsAction" method="previewNews">
			<result name="success">/pages/newsManagement/previewNews.jsp</result>
		</action>
	</package>
	
	<package name="appVersion" namespace="/appVersion" extends="json-default">
		<action name="getVersionsInfoList" class="appVersionAction" method="getVersionsInfoList">
			<result name="versionInfos">/pages/appVersion/versionsInfo.jsp</result>
		</action>
		<action name="addVersion" class="appVersionAction" method="addVersion">
			<result name="success" type="redirectAction">getVersionsInfoList</result>
		</action>
		<action name="initUpdate" class="appVersionAction" method="initUpdate">
			<result name="success">/pages/appVersion/updateVersion.jsp</result>
		</action>
		<action name="updateVersion" class="appVersionAction" method="updateVersion">
			<result name="success" type="redirectAction">getVersionsInfoList</result>
		</action>
		<action name="deleteVersion" class="appVersionAction" method="deleteVersion">
			<result name="success" type="redirectAction">getVersionsInfoList</result>
		</action>
	</package>
</struts>
